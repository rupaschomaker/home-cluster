apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: smtp-relay
  namespace: smtp-relay
spec:
  interval: 15m
  chart:
    spec:
      chart: smtp-relay
      version: 4.0.13
      sourceRef:
        kind: HelmRepository
        name: truecharts
        namespace: flux-system
  releaseName: smtp-relay
  values:
    TZ: America/Chicago
    release_name: smtp-relay
    smtprelay:
      domains:
        - rupa.com
      networks:
        - 172.16.0.0/16
        - 192.168.1.0/24
    # workload:
    #   main:
    #     podSpec:
    #       containers:
    #         main:
    #           env:
    #             DISABLE_IPV6: true
    #             GMAIL_PASSWORD:
    #               name: GMAIL_PASSWORD
    #               value: ${GMAIL_PASSWORD}
    #             GMAIL_USER:
    #               name: GMAIL_USER
    #               value: ${GMAIL_USER}